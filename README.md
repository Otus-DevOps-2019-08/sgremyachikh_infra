# sgremyachikh_infra
sgremyachikh Infra repository

## GCP

Созданы 2 инстанса микро.
Бастион с 2 интерфейсами(внешний белый статичный и внутренний во внутренней сети) и машина в серой сети.

Подключение к бастиону возможно при наличии ssh ключей:

```
ssh decapapreta@35.228.154.228
```
Работа с остальными виртуалками возможна при реализации форвардинга ключей локальной машины.
Проверка
```
ssh-add -L
The agent has no identities
```
Добавить ssh ключ в агент авторизации:
```
ssh-add ~/.ssh/appuser
```

Подключение к машине в серой сети:
```
ssh -A -t decapapreta@35.228.154.228
```
## Для настройки vpn сервера на работу с https:
При настройке сервера указать в поле Lets Encrypt Domain в виде <ip>.sslip.io

Подключение в web-интерфейсу VPN-сервера с https:
https://35.228.154.228.sslip.io/login


### Информация для тестов VPN

```
bastion_IP = 35.228.154.228
someinternalhost_IP = 10.166.0.3
```

